<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.23" id="1">
    <property name="createdBy">Eclipse BIRT 设计器 V4.5.0.v201506092134 构建 &lt;@建立@></property>
    <property name="units">in</property>
    <property name="iconFile">/templates/blank_report.gif</property>
    <property name="bidiLayoutOrientation">ltr</property>
    <property name="imageDPI">72</property>
    <parameters>
        <scalar-parameter name="id" id="29">
            <property name="hidden">true</property>
            <text-property name="promptText">编号</text-property>
            <property name="valueType">static</property>
            <property name="dataType">integer</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">0</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="JNDIName" id="30">
            <property name="hidden">true</property>
            <text-property name="promptText">JNDI</text-property>
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">""</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
    </parameters>
    <data-sources>
        <script-data-source name="DS" id="4"/>
    </data-sources>
    <data-sets>
        <script-data-set name="dataDetail" id="5">
            <list-property name="resultSetHints">
                <structure>
                    <property name="position">1</property>
                    <property name="name">pformid</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">seq</property>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">designid</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">colorid</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">qty</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">jhqty</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">7</property>
                    <property name="name">itemdesc</property>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">pformid</property>
                    <text-property name="displayName">单号</text-property>
                </structure>
                <structure>
                    <property name="columnName">seq</property>
                    <text-property name="displayName">序号</text-property>
                </structure>
                <structure>
                    <property name="columnName">designid</property>
                    <text-property name="displayName">花号</text-property>
                </structure>
                <structure>
                    <property name="columnName">colorid</property>
                    <text-property name="displayName">色号</text-property>
                </structure>
                <structure>
                    <property name="columnName">qty</property>
                    <text-property name="displayName">订单数量</text-property>
                </structure>
                <structure>
                    <property name="columnName">jhqty</property>
                    <text-property name="displayName">计划数量</text-property>
                </structure>
                <structure>
                    <property name="columnName">itemdesc</property>
                    <text-property name="displayName">品名</text-property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">pformid</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">seq</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">designid</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">colorid</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">qty</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">jhqty</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">itemdesc</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">DS</property>
            <method name="open"><![CDATA[
importPackage(Packages.com.hhsc.rpt);

ejbClient = new FactoryOrderBIRT();
ejbClient.setEJB(params["JNDIName"]);

list = ejbClient.getDetail(params["id"]);

currentRow = 0;]]></method>
            <method name="fetch"><![CDATA[if(currentRow<list.size()){
	dataSetRow["pformid"] = list.get(currentRow).getPformid();
	dataSetRow["seq"] = list.get(currentRow).getSeq();
	dataSetRow["designid"] = list.get(currentRow).getDesignid();
	dataSetRow["colorid"] = list.get(currentRow).getColorid();
	dataSetRow["qty"] = list.get(currentRow).getQty();
	dataSetRow["jhqty"] = list.get(currentRow).getJhqty();
	currentRow++;
	return (true);	
}
return (false);]]></method>
            <method name="close"><![CDATA[
ejbClient = null;]]></method>
        </script-data-set>
        <script-data-set name="dataMaster" id="103">
            <structure name="cachedMetaData"/>
            <property name="dataSource">DS</property>
            <method name="open"><![CDATA[importPackage(Packages.com.hhsc.rpt);

ejbClient = new FactoryOrderBIRT();
ejbClient.setEJB(params["JNDIName"]);

entity = ejbClient.getData(params["id"]);

]]></method>
        </script-data-set>
    </data-sets>
    <page-setup>
        <simple-master-page name="Simple MasterPage" id="2">
            <page-footer>
                <text id="3">
                    <property name="contentType">html</property>
                    <text-property name="content"><![CDATA[<value-of>new Date()</value-of>]]></text-property>
                </text>
            </page-footer>
        </simple-master-page>
    </page-setup>
    <body>
        <label id="6">
            <property name="fontFamily">"Microsoft YaHei"</property>
            <property name="fontSize">18pt</property>
            <property name="textAlign">center</property>
            <text-property name="text">生产流转单</text-property>
        </label>
        <grid id="76">
            <property name="height">1.0138888888888888in</property>
            <column id="77"/>
            <column id="78"/>
            <column id="79"/>
            <row id="80">
                <property name="height">0.375in</property>
                <cell id="81"/>
                <cell id="82"/>
                <cell id="83"/>
            </row>
            <row id="84">
                <property name="fontFamily">sans-serif</property>
                <property name="height">0.375in</property>
                <cell id="85">
                    <property name="colSpan">2</property>
                    <property name="rowSpan">1</property>
                </cell>
                <cell id="87"/>
            </row>
            <row id="88">
                <property name="height">0.375in</property>
                <cell id="89">
                    <property name="backgroundColor">red</property>
                </cell>
                <cell id="90">
                    <data id="101">
                        <property name="dataSet">dataDetail</property>
                        <list-property name="boundDataColumns">
                            <structure>
                                <property name="name">itemdesc</property>
                                <text-property name="displayName">品名</text-property>
                                <expression name="expression" type="javascript">dataSetRow["itemdesc"]</expression>
                                <property name="dataType">string</property>
                            </structure>
                        </list-property>
                        <property name="resultSetColumn">itemdesc</property>
                    </data>
                </cell>
                <cell id="91"/>
            </row>
        </grid>
        <table id="7">
            <property name="masterPage">Simple MasterPage</property>
            <property name="dataSet">dataDetail</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">pformid</property>
                    <text-property name="displayName">单号</text-property>
                    <expression name="expression" type="javascript">dataSetRow["pformid"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">seq</property>
                    <text-property name="displayName">序号</text-property>
                    <expression name="expression" type="javascript">dataSetRow["seq"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">designid</property>
                    <text-property name="displayName">花号</text-property>
                    <expression name="expression" type="javascript">dataSetRow["designid"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">qty</property>
                    <text-property name="displayName">订单数量</text-property>
                    <expression name="expression" type="javascript">dataSetRow["qty"]</expression>
                    <property name="dataType">float</property>
                </structure>
                <structure>
                    <property name="name">jhqty</property>
                    <text-property name="displayName">计划数量</text-property>
                    <expression name="expression" type="javascript">dataSetRow["jhqty"]</expression>
                    <property name="dataType">float</property>
                </structure>
            </list-property>
            <column id="26"/>
            <column id="27"/>
            <column id="28"/>
            <column id="35"/>
            <column id="39"/>
            <header>
                <row id="8">
                    <cell id="9">
                        <label id="10">
                            <property name="fontFamily">"Microsoft YaHei"</property>
                            <text-property name="text">单号</text-property>
                        </label>
                    </cell>
                    <cell id="11">
                        <label id="12">
                            <property name="fontFamily">"Microsoft YaHei"</property>
                            <text-property name="text">序号</text-property>
                        </label>
                    </cell>
                    <cell id="13">
                        <label id="14">
                            <property name="fontFamily">"Microsoft YaHei"</property>
                            <text-property name="text">花号</text-property>
                        </label>
                    </cell>
                    <cell id="32">
                        <label id="72">
                            <property name="fontFamily">"Microsoft YaHei"</property>
                            <text-property name="text">订单数量</text-property>
                        </label>
                    </cell>
                    <cell id="36">
                        <label id="74">
                            <property name="fontFamily">"Microsoft YaHei"</property>
                            <text-property name="text">计划数量</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <detail>
                <row id="15">
                    <cell id="16">
                        <data id="17">
                            <property name="fontFamily">"Microsoft YaHei"</property>
                            <property name="resultSetColumn">pformid</property>
                        </data>
                    </cell>
                    <cell id="18">
                        <data id="19">
                            <property name="fontFamily">"Microsoft YaHei"</property>
                            <property name="resultSetColumn">seq</property>
                        </data>
                    </cell>
                    <cell id="20">
                        <data id="21">
                            <property name="fontFamily">"Microsoft YaHei"</property>
                            <property name="resultSetColumn">designid</property>
                        </data>
                    </cell>
                    <cell id="33">
                        <data id="73">
                            <property name="fontFamily">"Microsoft YaHei"</property>
                            <structure name="numberFormat">
                                <property name="category">Custom</property>
                                <property name="pattern">¤###,##0.00</property>
                            </structure>
                            <property name="textAlign">right</property>
                            <property name="resultSetColumn">qty</property>
                        </data>
                    </cell>
                    <cell id="37">
                        <data id="75">
                            <property name="fontFamily">"Microsoft YaHei"</property>
                            <structure name="numberFormat">
                                <property name="category">Custom</property>
                                <property name="pattern">###,##0.00</property>
                            </structure>
                            <property name="textAlign">right</property>
                            <property name="resultSetColumn">jhqty</property>
                        </data>
                    </cell>
                </row>
            </detail>
            <footer>
                <row id="22">
                    <cell id="23"/>
                    <cell id="24"/>
                    <cell id="25"/>
                    <cell id="34"/>
                    <cell id="38"/>
                </row>
            </footer>
        </table>
    </body>
    <property name="pageVariables">
        <variable-element name="test1">
            <property name="type">report</property>
        </variable-element>
    </property>
</report>
